<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Background Full Scroll</title>
    <style>
        /* 余計な余白をすべてカット */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            background-color: #f4f4f9;
        }

        /* 背景画像を表示するメインエリア */
        .scrolling-bg {
            width: 100%;
            background-image: url('aanetbg.jpeg');
            background-size: 100% auto; /* 横幅100%に固定し、高さは比率に合わせる */
            background-position: top center;
            background-repeat: no-repeat;
            /* 画像が読み込まれるまでの最低高さ */
            min-height: 100vh; 
        }
    </style>
</head>
<body>

    <div class="scrolling-bg" id="bgArea"></div>

    <script type='text/javascript'>
        function adjustBgHeight() {
            const img = new Image();
            img.src = 'aanetbg.jpeg';
            img.onload = function() {
                const bgArea = document.getElementById('bgArea');
                // ブラウザの幅に対して、画像の縦横比から正確な高さを算出
                const calculatedHeight = (window.innerWidth / img.width) * img.height;
                bgArea.style.height = calculatedHeight + 'px';
            };
        }

        // ページ読み込み時とリサイズ時に高さを再計算
        window.addEventListener('load', adjustBgHeight);
        window.addEventListener('resize', adjustBgHeight);

        // --- Salesforce Embedded Messaging ---
        function initEmbeddedMessaging() {
            try {
                embeddedservice_bootstrap.settings.language = 'ja'; 
                embeddedservice_bootstrap.init(
                    '00DIk000000LPOa',
                    'User_Verification_Agent_Channel_V1_Ext2',
                    'https://aflacjpx--fsccoedev9.sandbox.my.site.com/ESWUserVerificationAgen1769664442602',
                    {
                        scrt2URL: 'https://aflacjpx--fsccoedev9.sandbox.my.salesforce-scrt.com'
                    }
                );
            } catch (err) {
                console.error('Error loading Embedded Messaging: ', err);
            }
        };

        window.addEventListener("onEmbeddedMessagingReady", () => {
            var AuthTOKEN = "eyJhbGciOiJSUzI1NiIsImtpZCI6ImhTY3BFQW5VLTZZZDlGQld2UWlqd2pZbkczRmFsZUpCZ2NtcUZsYzdmVHciLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FmbGFjanB4LS1mc2Njb2VkZXY5LnNhbmRib3gubXkuc2l0ZS5jb20vIiwic3ViIjoiMTIzNDUiLCJhdWQiOiJodHRwczovL2FmbGFjanB4LS1mc2Njb2VkZXY5LnNhbmRib3gubXkuc2l0ZS5jb20vIiwiaWF0IjoxNzM1NTM2MDUzLCJleHAiOjE3OTg1NjY2MjR9.TKijGHYiCFLUKv7KjVPAHAiD7Nrj1Wcml6jaYIY0rUzq8p4MxVJE1E7Ou0yRLux81RZcvux1do5bf-iYPh4-vm68LJRrns-y844WoKPy14kkpzvq2Ay3oI4nF-dt_ZxdVANsskmFYyHzEs3rsc2BoS_KsqDzanx8rRxNjtPUnKFaYm00iX9GOGzvVfDdr9KyRUpmOCAwWTP5tiIlPQNuj9rafVS19UqlAuYf6ogBX8QkmGe-7Lqh5OIjzh1V52c1F3nSnbIkT9eVRRjKeI_4O-_SIhrIDmqeG5CWrQDgZYmA3XjTsiyXf_5sieSLms_W9o7CfUESLHrHT3UBBg1F2g";
            embeddedservice_bootstrap.userVerificationAPI.setIdentityToken({
                identityTokenType: "JWT",
                identityToken: AuthTOKEN,
            });
        });
    </script>
    <script type='text/javascript' src='https://aflacjpx--fsccoedev9.sandbox.my.site.com/ESWUserVerificationAgen1769664442602/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
</body>
</html>
